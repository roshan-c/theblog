<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <title>gart blog - incident counter</title>
  <link rel="stylesheet" href="../reset.css" />
  <link rel="stylesheet" href="../index.css" />
  <link rel='icon' type='favicon/icon.ico' href='../images/favicon/icon.ico'>
</head>
<body>
  <table class="header">
    <tr>
      <td colspan="2" rowspan="2" class="width-auto">
        <h1 class="title">incident counter</h1>
        <span class="subtitle">time since last gary incident</span>
      </td>
    </tr>
    <tr>
      <th>updated</th>
      <td class="width-min"><time id="current-date"></time></td>
    </tr>
    <tr>
      <th class="width-min">return</th>
      <td class="width-auto"><a href="../index.html">back to blog..</a></td>
    </tr>
  </table>

  <article>
    <div class="counter" id="counter"></div>
  </article>

  <script>
    function updateCounter() {
        const startDate = new Date('2024-04-27T01:34:00Z');
        const currentDate = new Date();
        const diffTime = Math.abs(currentDate - startDate);
        const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
        const diffHours = Math.floor((diffTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const diffMinutes = Math.floor((diffTime % (1000 * 60 * 60)) / (1000 * 60));
        const diffSeconds = Math.floor((diffTime % (1000 * 60)) / 1000);
        
        document.getElementById('counter').innerHTML = 
            `<h1>⏲️ Time elapsed:</h1>
             <p>${diffDays} days</p>
             <p>${diffHours} hours</p>
             <p>${diffMinutes} minutes</p>
             <p>${diffSeconds} seconds</p>`;

        document.getElementById('current-date').textContent = new Date().toISOString().split('T')[0];
    }

    updateCounter();
    setInterval(updateCounter, 1000);
  </script>
</body>
</html>